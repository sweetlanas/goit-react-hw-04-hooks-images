(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{21:function(e,t,a){e.exports={loaderWrapper:"Loader_loaderWrapper__3N_0-"}},22:function(e,t,a){e.exports={loader:"ImageGalleryItem_loader__3eKGi"}},28:function(e,t,a){},30:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(19),o=a.n(c),s=(a(28),a(10)),u=a(6),i=a.n(u),l=a(9),j=a(4),d=(a(30),a(0)),b=function(e){var t=e.onSetQuery,a=e.query,r=e.onSubmit;return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsxs)("form",{onSubmit:r,className:"SearchForm",children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{onInput:t,className:"SearchForm-input",type:"text",value:a,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},m=a(20),h=a.n(m),p=a(21),f=a.n(p),O=function(){return Object(d.jsx)("div",{className:f.a.loaderWrapper,children:Object(d.jsx)(h.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})},x=a(22),v=a.n(x);var g=function(e){var t=e.url,a=e.alt,n=e.modalUrl,c=e.showModal,o=Object(r.useState)(!0),s=Object(j.a)(o,2),u=s[0],i=s[1];return Object(d.jsxs)("li",{onClick:function(){return c(n)},className:"ImageGalleryItem",children:[Object(d.jsx)("img",{onLoad:function(){return i(!1)},src:t,alt:a,className:"ImageGalleryItem-image"}),u&&Object(d.jsx)("div",{className:v.a.loader,children:Object(d.jsx)(O,{})})]})},y=function(e){var t=e.images,a=e.showModal;return Object(d.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.tags,r=e.webformatURL,n=e.id,c=e.largeImageURL;return Object(d.jsx)(g,{showModal:a,modalUrl:c,url:r,alt:t},n)}))})},w=function(e){var t=e.onLoadMore;return Object(d.jsx)("button",{onClick:t,type:"button",children:"Load more"})},S=function(e){var t=e.modalImg,a=e.closeModal;return Object(d.jsx)("div",{onClick:a,className:"Overlay",children:Object(d.jsx)("div",{className:"Modal",children:Object(d.jsx)("img",{src:t,alt:""})})})},N=a(23),k=a.n(N);var I=function(e,t){return k()({method:"GET",url:"https://pixabay.com/api/?key=&key=15900106-2c235e732bb321ca7ec900d93&q=".concat(e,"&page=").concat(t,"&per_page=12")})};var M=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(1),o=Object(j.a)(c,2),u=o[0],m=o[1],h=Object(r.useState)([]),p=Object(j.a)(h,2),f=p[0],x=p[1],v=Object(r.useState)(""),g=Object(j.a)(v,2),N=g[0],k=g[1],M=Object(r.useState)(!1),L=Object(j.a)(M,2),F=L[0],G=L[1],_=function(e){"Escape"===e.key&&k("")};Object(r.useEffect)((function(){N?window.addEventListener("keyup",_):window.removeEventListener("keyup",_)}),[N]);var E=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(1),G(!0),e.next=5,I(a,1);case 5:r=e.sent,n=r.data.hits,G(!1),x(n),m((function(e){return e+1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.next=3,I(a,u);case 3:t=e.sent,r=t.data.hits,x((function(e){return[].concat(Object(s.a)(e),Object(s.a)(r))})),m((function(e){return e+1})),G(!1),window.scrollTo({top:document.querySelector(".ImageGallery").scrollHeight,behavior:"smooth"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{query:a,onSetQuery:function(e){n(e.target.value)},onSubmit:E}),F&&Object(d.jsx)(O,{}),Object(d.jsx)(y,{showModal:function(e){k(e)},images:f}),!!f.length&&Object(d.jsx)(w,{onLoadMore:q}),N&&Object(d.jsx)(S,{closeModal:function(e){"IMG"!==e.target.nodeName&&k("")},modalImg:N})]})};o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.334f7b55.chunk.js.map